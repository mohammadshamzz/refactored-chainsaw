2025-09-09 18:31:09,640 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:31:09,640 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:31:09,641 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:31:09,641 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:32:46,402 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:32:46,402 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:32:46,402 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:32:46,403 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:32:52,008 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:32:52,008 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:32:52,008 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:32:52,009 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:33:09,656 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:33:09,656 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:33:09,656 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:33:09,657 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:33:10,515 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:33:10,516 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:33:10,516 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:33:10,516 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:33:29,686 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:33:29,687 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:33:29,687 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:33:29,687 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:33:30,471 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:33:30,471 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:33:30,471 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:33:30,472 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:36:18,439 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:36:18,440 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:36:18,440 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:36:18,440 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:49:46,308 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:49:46,309 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:49:46,309 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:49:46,309 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:49:46,643 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:49:46,643 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:49:46,643 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:49:46,643 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:50:13,735 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:50:13,735 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:50:13,735 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:50:13,735 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:50:14,038 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:50:14,038 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:50:14,038 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:50:14,038 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:50:16,435 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:50:16,435 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:50:16,435 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:50:16,435 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:50:16,732 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:50:16,733 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:50:16,733 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:50:16,733 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:52:26,477 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:52:26,478 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:52:26,478 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:52:26,478 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:52:26,774 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:52:26,774 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:52:26,774 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:52:26,774 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:52:27,276 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:52:29,301 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:52:31,329 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:52:32,233 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:52:32,234 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:52:32,234 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:52:32,234 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:52:32,526 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:52:32,526 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:52:32,527 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:52:32,527 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:52:33,004 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:52:35,030 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:52:37,051 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': None, 'user': None, 'host': None, 'port': None}
2025-09-09 18:53:09,364 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:53:09,365 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:53:09,365 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:53:09,365 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:53:09,379 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:53:09,380 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:53:09,609 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:53:09,610 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:53:09,664 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:53:09,664 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:53:09,665 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:53:09,665 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:53:10,126 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 18:53:34,301 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 18:53:34,301 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 18:53:34,301 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 18:53:34,302 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 18:53:34,302 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 18:53:34,303 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 18:53:34,320 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 18:53:35,662 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,993.06
2025-09-09 18:53:35,941 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 18:53:36,900 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 18:53:37,403 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,987.30 | Market: OPEN
2025-09-09 18:53:37,403 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 18:53:37,644 - root - INFO - _reset_daily_pdt_counter:202 - New trading day: 2025-09-09. PDT counter reset to 0/4
2025-09-09 18:53:37,931 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:53:37,931 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $97987.30: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:53:38,165 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-09 18:53:43,603 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $496.24: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 18:53:48,963 - root - INFO - _find_htf_setup_async:879 - [AAPL] NEW POI | Type=Bullish | Score=25 | Range=(232.48, 234.76) | SL=224.74
2025-09-09 18:53:48,963 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 1: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:53:48,977 - root - INFO - _find_htf_setup_async:899 - [AAPL] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:53:48,977 - root - INFO - add_notification:33 - Notification: Setup Found - AAPL buy setup added to watchlist
2025-09-09 18:53:55,872 - root - INFO - _find_htf_setup_async:879 - [ACN] NEW POI | Type=Bearish | Score=23 | Range=(254.40, 256.09) | SL=266.50
2025-09-09 18:53:55,873 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 2: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:53:55,874 - root - INFO - _find_htf_setup_async:899 - [ACN] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:53:55,874 - root - INFO - add_notification:33 - Notification: Setup Found - ACN sell setup added to watchlist
2025-09-09 18:53:58,988 - root - INFO - _find_htf_setup_async:879 - [ADI] NEW POI | Type=Bullish | Score=25 | Range=(240.60, 244.31) | SL=228.99
2025-09-09 18:53:58,988 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 3: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:53:58,989 - root - INFO - _find_htf_setup_async:899 - [ADI] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:53:58,989 - root - INFO - add_notification:33 - Notification: Setup Found - ADI buy setup added to watchlist
2025-09-09 18:54:15,448 - root - INFO - _find_htf_setup_async:879 - [AMZN] NEW POI | Type=Bearish | Score=25 | Range=(238.14, 239.57) | SL=248.78
2025-09-09 18:54:15,449 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 4: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:54:15,450 - root - INFO - _find_htf_setup_async:899 - [AMZN] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:54:15,450 - root - INFO - add_notification:33 - Notification: Setup Found - AMZN sell setup added to watchlist
2025-09-09 18:54:19,382 - root - INFO - _find_htf_setup_async:879 - [ANET] NEW POI | Type=Bullish | Score=25 | Range=(137.10, 138.19) | SL=129.34
2025-09-09 18:54:19,382 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 5: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:54:19,383 - root - INFO - _find_htf_setup_async:899 - [ANET] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:54:19,383 - root - INFO - add_notification:33 - Notification: Setup Found - ANET buy setup added to watchlist
2025-09-09 18:54:25,250 - root - INFO - _find_htf_setup_async:879 - [ASML] NEW POI | Type=Bearish | Score=23 | Range=(804.89, 808.01) | SL=841.11
2025-09-09 18:54:25,251 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 6: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:54:25,252 - root - INFO - _find_htf_setup_async:899 - [ASML] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:54:25,252 - root - INFO - add_notification:33 - Notification: Setup Found - ASML sell setup added to watchlist
2025-09-09 18:55:26,195 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:55:26,195 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $97987.30: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:55:26,428 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $40.32 | PDT: 0/4
2025-09-09 18:55:30,987 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $496.52: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 18:55:49,474 - root - INFO - _find_htf_setup_async:879 - [GOOG] NEW POI | Type=Bullish | Score=23 | Range=(232.77, 233.99) | SL=221.21
2025-09-09 18:55:49,474 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 7: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:55:49,475 - root - INFO - _find_htf_setup_async:899 - [GOOG] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:55:49,475 - root - INFO - add_notification:33 - Notification: Setup Found - GOOG buy setup added to watchlist
2025-09-09 18:55:54,354 - root - INFO - _find_htf_setup_async:879 - [GOOGL] NEW POI | Type=Bullish | Score=23 | Range=(232.36, 233.67) | SL=220.66
2025-09-09 18:55:54,354 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 8: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:55:54,356 - root - INFO - _find_htf_setup_async:899 - [GOOGL] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:55:54,356 - root - INFO - add_notification:33 - Notification: Setup Found - GOOGL buy setup added to watchlist
2025-09-09 18:56:06,526 - root - INFO - _find_htf_setup_async:879 - [INTU] NEW POI | Type=Bearish | Score=25 | Range=(672.20, 676.00) | SL=701.22
2025-09-09 18:56:06,526 - root - ERROR - _save_agent_state:349 - Error saving agent state - watchlist items: 9: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 346, in _save_agent_state
    await execute_db_query(self.db_pool, query, (json.dumps(state_data), datetime.now()))
                                                 ~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable
2025-09-09 18:56:06,527 - root - INFO - _find_htf_setup_async:899 - [INTU] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:56:06,527 - root - INFO - add_notification:33 - Notification: Setup Found - INTU sell setup added to watchlist
2025-09-09 18:56:13,085 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:56:13,085 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:56:13,085 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:56:13,085 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:56:13,099 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:56:13,099 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:56:13,327 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:56:13,327 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:56:13,383 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:56:13,384 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:56:13,384 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:56:13,384 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:56:13,891 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 18:56:38,726 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 18:56:38,726 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 18:56:38,726 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 18:56:38,727 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 18:56:38,727 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 18:56:38,728 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 18:56:38,731 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 18:56:39,617 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,003.86
2025-09-09 18:56:39,847 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 18:56:40,765 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 18:56:41,255 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,994.50 | Market: OPEN
2025-09-09 18:56:41,256 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 18:56:41,258 - root - ERROR - _load_agent_state:405 - Error loading agent state from database: the JSON object must be str, bytes or bytearray, not dict
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 381, in _load_agent_state
    state_data = json.loads(result['state_data'])
  File "C:\Python313\Lib\json\__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
                    f'not {s.__class__.__name__}')
TypeError: the JSON object must be str, bytes or bytearray, not dict
2025-09-09 18:56:41,260 - root - INFO - _reset_daily_pdt_counter:202 - New trading day: 2025-09-09. PDT counter reset to 0/4
2025-09-09 18:56:41,501 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:56:41,501 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $0.00: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:56:41,736 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $97995.94 | PDT: 0/4
2025-09-09 18:56:47,011 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $496.30: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 18:56:52,354 - root - INFO - _find_htf_setup_async:879 - [AAPL] NEW POI | Type=Bullish | Score=25 | Range=(232.48, 234.76) | SL=224.74
2025-09-09 18:56:52,355 - root - INFO - _find_htf_setup_async:899 - [AAPL] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:56:52,356 - root - INFO - add_notification:33 - Notification: Setup Found - AAPL buy setup added to watchlist
2025-09-09 18:56:59,548 - root - INFO - _find_htf_setup_async:879 - [ACN] NEW POI | Type=Bearish | Score=23 | Range=(254.40, 256.09) | SL=266.50
2025-09-09 18:56:59,549 - root - INFO - _find_htf_setup_async:899 - [ACN] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:56:59,549 - root - INFO - add_notification:33 - Notification: Setup Found - ACN sell setup added to watchlist
2025-09-09 18:57:03,045 - root - INFO - _find_htf_setup_async:879 - [ADI] NEW POI | Type=Bullish | Score=25 | Range=(240.60, 244.31) | SL=228.99
2025-09-09 18:57:03,046 - root - INFO - _find_htf_setup_async:899 - [ADI] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:57:03,046 - root - INFO - add_notification:33 - Notification: Setup Found - ADI buy setup added to watchlist
2025-09-09 18:57:17,792 - root - INFO - _find_htf_setup_async:879 - [AMZN] NEW POI | Type=Bearish | Score=25 | Range=(238.14, 239.57) | SL=248.78
2025-09-09 18:57:17,793 - root - INFO - _find_htf_setup_async:899 - [AMZN] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:57:17,793 - root - INFO - add_notification:33 - Notification: Setup Found - AMZN sell setup added to watchlist
2025-09-09 18:57:22,042 - root - INFO - _find_htf_setup_async:879 - [ANET] NEW POI | Type=Bullish | Score=25 | Range=(137.10, 138.19) | SL=129.34
2025-09-09 18:57:22,043 - root - INFO - _find_htf_setup_async:899 - [ANET] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:57:22,043 - root - INFO - add_notification:33 - Notification: Setup Found - ANET buy setup added to watchlist
2025-09-09 18:57:28,163 - root - INFO - _find_htf_setup_async:879 - [ASML] NEW POI | Type=Bearish | Score=23 | Range=(804.89, 808.01) | SL=841.11
2025-09-09 18:57:28,163 - root - INFO - _find_htf_setup_async:899 - [ASML] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:57:28,164 - root - INFO - add_notification:33 - Notification: Setup Found - ASML sell setup added to watchlist
2025-09-09 18:58:29,088 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:58:29,089 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $0.00: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 18:58:29,322 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $97974.34 | PDT: 0/4
2025-09-09 18:58:34,004 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $496.15: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 18:58:52,405 - root - INFO - _find_htf_setup_async:879 - [GOOG] NEW POI | Type=Bullish | Score=23 | Range=(232.77, 233.99) | SL=221.19
2025-09-09 18:58:52,406 - root - INFO - _find_htf_setup_async:899 - [GOOG] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:58:52,407 - root - INFO - add_notification:33 - Notification: Setup Found - GOOG buy setup added to watchlist
2025-09-09 18:58:57,351 - root - INFO - _find_htf_setup_async:879 - [GOOGL] NEW POI | Type=Bullish | Score=23 | Range=(232.36, 233.67) | SL=220.64
2025-09-09 18:58:57,352 - root - INFO - _find_htf_setup_async:899 - [GOOGL] New HTF setup added to watchlist. Direction: buy.
2025-09-09 18:58:57,352 - root - INFO - add_notification:33 - Notification: Setup Found - GOOGL buy setup added to watchlist
2025-09-09 18:59:10,631 - root - INFO - _find_htf_setup_async:879 - [INTU] NEW POI | Type=Bearish | Score=25 | Range=(672.20, 676.00) | SL=701.22
2025-09-09 18:59:10,632 - root - INFO - _find_htf_setup_async:899 - [INTU] New HTF setup added to watchlist. Direction: sell.
2025-09-09 18:59:10,633 - root - INFO - add_notification:33 - Notification: Setup Found - INTU sell setup added to watchlist
2025-09-09 18:59:57,857 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:59:57,858 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:59:57,858 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:59:57,858 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:59:57,871 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:59:57,871 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:59:58,105 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 18:59:58,106 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 18:59:58,161 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 18:59:58,161 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 18:59:58,161 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 18:59:58,161 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 18:59:58,678 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:00:00,067 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:00:00,068 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:00:00,068 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:00:00,068 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:00:00,080 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:00:00,081 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:00:00,315 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:00:00,315 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:00:00,372 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:00:00,373 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:00:00,373 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:00:00,373 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:00:00,859 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:00:10,776 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 19:00:10,776 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 19:00:10,777 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 19:00:10,777 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 19:00:10,777 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 19:00:10,779 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 19:00:10,780 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 19:00:11,683 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,995.94
2025-09-09 19:00:11,910 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 19:00:12,827 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 19:00:13,290 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,995.94 | Market: OPEN
2025-09-09 19:00:13,290 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 19:00:13,293 - root - INFO - _load_agent_state:396 - Loaded agent state: 9 watchlist items, PDT: 0/4
2025-09-09 19:00:13,527 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:00:13,527 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $0.00: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:00:13,758 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $98004.58 | PDT: 0/4
2025-09-09 19:00:19,483 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $496.28: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 19:00:27,346 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AAPL: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:00:38,248 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ACN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:00:42,395 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ADI: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:01:00,512 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AMZN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:01:07,611 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ANET: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:01:15,848 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ASML: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:02:16,779 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:02:16,780 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $0.00: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:02:17,013 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $97928.63 | PDT: 0/4
2025-09-09 19:02:21,540 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $495.75: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 19:02:26,807 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:02:26,807 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:02:26,807 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:02:26,807 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:02:26,821 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:02:26,821 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:02:27,051 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:02:27,052 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:02:27,105 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:02:27,105 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:02:27,105 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:02:27,106 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:02:27,611 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:02:28,547 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:02:28,548 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:02:28,548 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:02:28,548 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:02:28,562 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:02:28,562 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:02:28,788 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:02:28,789 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:02:28,848 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:02:28,849 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:02:28,849 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:02:28,849 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:02:29,363 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:02:35,412 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 19:02:35,412 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 19:02:35,412 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 19:02:35,412 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 19:02:35,412 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 19:02:35,413 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 19:02:35,415 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 19:02:36,290 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,944.10
2025-09-09 19:02:36,523 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 19:02:37,413 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 19:02:37,875 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,944.10 | Market: OPEN
2025-09-09 19:02:37,875 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 19:02:37,877 - root - INFO - _load_agent_state:396 - Loaded agent state: 9 watchlist items, PDT: 0/4
2025-09-09 19:02:38,107 - root - ERROR - execute_db_query:48 - Database query failed: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:02:38,108 - root - ERROR - _update_daily_equity_tracking:440 - Error updating daily equity tracking - start equity: $0.00: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 421, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\.venv\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "daily_equity_tracking" does not exist
LINE 2: ...           SELECT equity_start, date_tracked FROM daily_equi...
                                                             ^

2025-09-09 19:02:38,340 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $97944.10 | PDT: 0/4
2025-09-09 19:02:43,452 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $495.86: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 19:02:48,999 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AAPL: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:02:55,751 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ACN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:02:59,026 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ADI: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:03:15,160 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AMZN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:03:19,289 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ANET: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:03:25,124 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ASML: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:04:09,178 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:04:09,179 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:04:09,179 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:04:09,179 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:04:09,191 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:04:09,192 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:04:09,419 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:04:09,420 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:04:09,474 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:04:09,475 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:04:09,475 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:04:09,475 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:04:09,941 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:04:10,897 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:04:10,898 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:04:10,899 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:04:10,899 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:04:10,913 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:04:10,913 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:04:11,139 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:04:11,139 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:04:11,191 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:04:11,192 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:04:11,192 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:04:11,192 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:04:11,655 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:04:19,390 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 19:04:19,390 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 19:04:19,390 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 19:04:19,391 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 19:04:19,391 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 19:04:19,392 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 19:04:19,393 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 19:04:20,265 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,925.38
2025-09-09 19:04:20,496 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 19:04:21,390 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 19:04:21,850 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,925.38 | Market: OPEN
2025-09-09 19:04:21,851 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 19:04:21,853 - root - INFO - _load_agent_state:396 - Loaded agent state: 9 watchlist items, PDT: 0/4
2025-09-09 19:04:22,318 - root - INFO - _update_daily_equity_tracking:435 - New trading day started. Starting equity: $97925.38
2025-09-09 19:04:22,547 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-09 19:04:27,830 - root - ERROR - _update_trailing_stop:326 - Error updating trailing stop for MSFT - side: buy, new_stop: $495.73: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 308, in _update_trailing_stop
    orders = await self.broker.get_orders(symbol=symbol, status='open')
                   ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AlpacaBroker.get_orders() got an unexpected keyword argument 'symbol'
2025-09-09 19:04:33,172 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AAPL: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:04:39,890 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ACN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:04:43,240 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ADI: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:04:57,237 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for AMZN: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:05:01,075 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ANET: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:05:07,959 - root - ERROR - _collect_and_rank_trade_candidates:530 - Error collecting trade candidate for ASML: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
Traceback (most recent call last):
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 518, in _collect_and_rank_trade_candidates
    trade_signal = await self._analyze_symbol_for_signal(symbol, market_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 744, in _analyze_symbol_for_signal
    return self._check_ltf_confirmation_enhanced(symbol, htf_data, ltf_data, self.watchlist[symbol])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\workspace\fast_api_trading_platform\app\agent\agent.py", line 931, in _check_ltf_confirmation_enhanced
    if (datetime.now(timezone.utc) - setup_info['timestamp']).total_seconds() > setup_info['max_duration_seconds']:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'datetime.datetime' and 'str'
2025-09-09 19:05:17,134 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:05:17,134 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:05:17,134 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:05:17,134 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:05:17,148 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:05:17,149 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:05:17,379 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:05:17,379 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:05:17,433 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:05:17,433 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:05:17,433 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:05:17,433 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:05:17,983 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:05:34,664 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:05:34,664 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:05:34,664 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:05:34,664 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:05:34,678 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:05:34,678 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:05:34,912 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 19:05:34,913 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 19:05:34,970 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 19:05:34,970 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 19:05:34,971 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 19:05:34,971 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 19:05:35,463 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 19:05:37,940 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 19:05:37,940 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 19:05:37,940 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 19:05:37,941 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 19:05:37,941 - root - INFO - __init__:65 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 19:05:37,942 - root - INFO - run_async:124 - Trading Agent's async loop started.
2025-09-09 19:05:37,943 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 19:05:38,825 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,946.98
2025-09-09 19:05:39,057 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 19:05:39,956 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 19:05:40,420 - root - INFO - _update_status:74 - Services connected. Account Equity: $97,946.98 | Market: OPEN
2025-09-09 19:05:40,420 - root - INFO - _connect_services:105 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-09 19:05:40,422 - root - INFO - _load_agent_state:396 - Loaded agent state: 9 watchlist items, PDT: 0/4
2025-09-09 19:05:40,884 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $15.84 | PDT: 0/4
2025-09-09 19:06:34,577 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-09 19:06:35,974 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-09 19:07:29,236 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-10.80 | PDT: 0/4
2025-09-09 19:09:16,179 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $45.36 | PDT: 0/4
2025-09-09 19:09:40,077 - root - INFO - _find_htf_setup_async:879 - [NOW] NEW POI | Type=Bullish | Score=25 | Range=(909.62, 932.59) | SL=862.01
2025-09-09 19:09:40,079 - root - INFO - _find_htf_setup_async:899 - [NOW] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:09:40,079 - root - INFO - add_notification:33 - Notification: Setup Found - NOW buy setup added to watchlist
2025-09-09 19:09:45,130 - root - INFO - _find_htf_setup_async:879 - [NVDA] NEW POI | Type=Bearish | Score=25 | Range=(172.50, 173.83) | SL=184.08
2025-09-09 19:09:45,131 - root - INFO - _find_htf_setup_async:899 - [NVDA] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:09:45,131 - root - INFO - add_notification:33 - Notification: Setup Found - NVDA sell setup added to watchlist
2025-09-09 19:09:49,447 - root - INFO - _find_htf_setup_async:879 - [ORCL] NEW POI | Type=Bearish | Score=23 | Range=(242.21, 245.00) | SL=258.40
2025-09-09 19:09:49,448 - root - INFO - _find_htf_setup_async:899 - [ORCL] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:09:49,448 - root - INFO - add_notification:33 - Notification: Setup Found - ORCL sell setup added to watchlist
2025-09-09 19:09:58,185 - root - INFO - _find_htf_setup_async:879 - [PLTR] NEW POI | Type=Bearish | Score=18 | Range=(172.29, 173.41) | SL=187.69
2025-09-09 19:09:58,186 - root - INFO - _find_htf_setup_async:899 - [PLTR] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:09:58,187 - root - INFO - add_notification:33 - Notification: Setup Found - PLTR sell setup added to watchlist
2025-09-09 19:11:03,804 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $46.08 | PDT: 0/4
2025-09-09 19:11:10,780 - root - INFO - _find_htf_setup_async:879 - [SAP] NEW POI | Type=Bearish | Score=23 | Range=(271.41, 273.69) | SL=281.36
2025-09-09 19:11:10,781 - root - INFO - _find_htf_setup_async:899 - [SAP] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:11:10,782 - root - INFO - add_notification:33 - Notification: Setup Found - SAP sell setup added to watchlist
2025-09-09 19:11:15,285 - root - INFO - _find_htf_setup_async:879 - [SHOP] NEW POI | Type=Bearish | Score=23 | Range=(145.07, 148.59) | SL=156.88
2025-09-09 19:11:15,287 - root - INFO - _find_htf_setup_async:899 - [SHOP] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:11:15,287 - root - INFO - add_notification:33 - Notification: Setup Found - SHOP sell setup added to watchlist
2025-09-09 19:11:22,538 - root - INFO - _find_htf_setup_async:879 - [TSLA] NEW POI | Type=Bullish | Score=25 | Range=(338.27, 341.71) | SL=314.16
2025-09-09 19:11:22,539 - root - INFO - _find_htf_setup_async:899 - [TSLA] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:11:22,539 - root - INFO - add_notification:33 - Notification: Setup Found - TSLA buy setup added to watchlist
2025-09-09 19:11:30,935 - root - INFO - _find_htf_setup_async:879 - [TXN] NEW POI | Type=Bearish | Score=25 | Range=(185.18, 187.63) | SL=197.65
2025-09-09 19:11:30,936 - root - INFO - _find_htf_setup_async:899 - [TXN] New HTF setup added to watchlist. Direction: sell.
2025-09-09 19:11:30,936 - root - INFO - add_notification:33 - Notification: Setup Found - TXN sell setup added to watchlist
2025-09-09 19:11:33,791 - root - INFO - _find_htf_setup_async:879 - [SONO] NEW POI | Type=Bullish | Score=25 | Range=(14.65, 14.73) | SL=13.92
2025-09-09 19:11:33,793 - root - INFO - _find_htf_setup_async:899 - [SONO] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:11:33,793 - root - INFO - add_notification:33 - Notification: Setup Found - SONO buy setup added to watchlist
2025-09-09 19:12:45,328 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $40.32 | PDT: 0/4
2025-09-09 19:13:04,814 - root - INFO - _find_htf_setup_async:879 - [LASR] NEW POI | Type=Bullish | Score=23 | Range=(27.05, 27.59) | SL=24.79
2025-09-09 19:13:04,815 - root - INFO - _find_htf_setup_async:899 - [LASR] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:13:04,815 - root - INFO - add_notification:33 - Notification: Setup Found - LASR buy setup added to watchlist
2025-09-09 19:13:05,555 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 19:13:09,086 - root - INFO - _find_htf_setup_async:879 - [CRDO] NEW POI | Type=Bullish | Score=23 | Range=(142.33, 147.41) | SL=126.80
2025-09-09 19:13:09,087 - root - INFO - _find_htf_setup_async:899 - [CRDO] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:13:09,088 - root - INFO - add_notification:33 - Notification: Setup Found - CRDO buy setup added to watchlist
2025-09-09 19:14:13,635 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $57.60 | PDT: 0/4
2025-09-09 19:14:20,243 - root - INFO - _find_htf_setup_async:879 - [SITM] NEW POI | Type=Bullish | Score=23 | Range=(237.49, 238.61) | SL=217.19
2025-09-09 19:14:20,245 - root - INFO - _find_htf_setup_async:899 - [SITM] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:14:20,245 - root - INFO - add_notification:33 - Notification: Setup Found - SITM buy setup added to watchlist
2025-09-09 19:14:30,547 - root - INFO - _find_htf_setup_async:879 - [OPEN] NEW POI | Type=Bullish | Score=23 | Range=(5.39, 5.90) | SL=3.61
2025-09-09 19:14:30,548 - root - INFO - _find_htf_setup_async:899 - [OPEN] New HTF setup added to watchlist. Direction: buy.
2025-09-09 19:14:30,548 - root - INFO - add_notification:33 - Notification: Setup Found - OPEN buy setup added to watchlist
2025-09-09 19:15:56,034 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $104.66 | PDT: 0/4
2025-09-09 19:17:45,901 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $87.84 | PDT: 0/4
2025-09-09 19:19:30,692 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $70.56 | PDT: 0/4
2025-09-09 19:21:15,879 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $52.56 | PDT: 0/4
2025-09-09 19:22:47,782 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $44.64 | PDT: 0/4
2025-09-09 19:22:54,986 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 19:24:21,349 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-10.08 | PDT: 0/4
2025-09-09 19:26:08,283 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $18.72 | PDT: 0/4
2025-09-09 19:27:55,800 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $24.48 | PDT: 0/4
2025-09-09 19:29:41,309 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $51.84 | PDT: 0/4
2025-09-09 19:31:44,791 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $34.56 | PDT: 0/4
2025-09-09 19:31:59,682 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 19:33:11,084 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $22.81 | PDT: 0/4
2025-09-09 19:34:29,023 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 19:34:29,023 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 19:34:32,520 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-09 19:34:57,945 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-21.60 | PDT: 0/4
2025-09-09 19:36:46,226 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-21.47 | PDT: 0/4
2025-09-09 19:37:16,334 - root - INFO - _check_ltf_confirmation_enhanced:963 - [NOW] Pullback complete, awaiting MSS
2025-09-09 19:38:30,241 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-23.04 | PDT: 0/4
2025-09-09 19:39:06,978 - root - INFO - _check_ltf_confirmation_enhanced:963 - [TXN] Pullback complete, awaiting MSS
2025-09-09 19:40:14,219 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-17.28 | PDT: 0/4
2025-09-09 19:40:42,258 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 19:41:43,416 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-55.44 | PDT: 0/4
2025-09-09 19:43:22,529 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-70.56 | PDT: 0/4
2025-09-09 19:45:12,079 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-63.68 | PDT: 0/4
2025-09-09 19:47:02,053 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-23.76 | PDT: 0/4
2025-09-09 19:48:47,849 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-37.44 | PDT: 0/4
2025-09-09 19:50:23,233 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-27.36 | PDT: 0/4
2025-09-09 19:50:36,293 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 19:51:55,346 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-15.84 | PDT: 0/4
2025-09-09 19:53:39,940 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $64.80 | PDT: 0/4
2025-09-09 19:55:26,659 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $83.52 | PDT: 0/4
2025-09-09 19:57:14,568 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $97.82 | PDT: 0/4
2025-09-09 19:58:56,614 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $67.67 | PDT: 0/4
2025-09-09 19:59:17,345 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:00:25,220 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $38.88 | PDT: 0/4
2025-09-09 20:02:09,999 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $25.21 | PDT: 0/4
2025-09-09 20:03:57,574 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-17.28 | PDT: 0/4
2025-09-09 20:05:42,979 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-33.12 | PDT: 0/4
2025-09-09 20:07:29,350 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-54.79 | PDT: 0/4
2025-09-09 20:09:01,727 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-54.72 | PDT: 0/4
2025-09-09 20:09:08,705 - root - WARNING - _find_htf_setup_async:812 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:10:36,214 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-56.16 | PDT: 0/4
2025-09-09 20:12:21,013 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-89.28 | PDT: 0/4
2025-09-09 20:14:06,875 - root - INFO - _update_status:74 - Analyzing 10/54 symbols... Daily P&L: $-38.16 | PDT: 0/4
2025-09-09 20:15:43,854 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:15:43,854 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:15:43,854 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:15:43,854 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:15:43,887 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:15:43,887 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:15:44,129 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:15:44,130 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:15:44,185 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:15:44,185 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:15:44,185 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:15:44,185 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:15:44,720 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 20:16:28,636 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:16:28,636 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:16:28,637 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:16:28,637 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:16:28,667 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:16:28,668 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:16:28,904 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:16:28,905 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:16:28,958 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:16:28,958 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:16:28,958 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:16:28,959 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:16:29,434 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 20:16:40,181 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:16:40,181 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:16:40,181 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:16:40,182 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:16:40,214 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:16:40,215 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:16:40,451 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:16:40,452 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:16:40,505 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:16:40,505 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:16:40,505 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:16:40,506 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:16:40,998 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 20:17:57,452 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:17:57,453 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:17:57,453 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:17:57,453 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:17:57,485 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:17:57,486 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:17:57,726 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:17:57,727 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:17:57,783 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:17:57,783 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:17:57,783 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:17:57,783 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:17:58,305 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 20:18:56,443 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:18:56,443 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:18:56,443 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:18:56,443 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:18:56,474 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:18:56,475 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:18:56,708 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-09 20:18:56,708 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-09 20:18:56,764 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-09 20:18:56,764 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-09 20:18:56,765 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-09 20:18:56,765 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250909.log
2025-09-09 20:18:57,256 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-09 20:19:03,226 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-09 20:19:03,226 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-09 20:19:03,227 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-09 20:19:03,227 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-09 20:19:03,227 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-09 20:19:03,228 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-09 20:19:03,229 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-09 20:19:04,116 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,933.30
2025-09-09 20:19:04,347 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-09 20:19:05,280 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-09 20:19:05,740 - root - INFO - _update_status:69 - Services connected. Account Equity: $97,940.50 | Market: CLOSED
2025-09-09 20:19:05,741 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-09 20:19:05,743 - root - INFO - _load_agent_state:393 - Loaded agent state: 22 watchlist items, PDT: 0/4
2025-09-09 20:19:06,207 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $15.12 | PDT: 0/4
2025-09-09 20:20:52,757 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-72.00 | PDT: 0/4
2025-09-09 20:21:02,205 - root - INFO - _find_htf_setup_async:876 - [AVGO] NEW POI | Type=Bullish | Score=20 | Range=(304.81, 316.98) | SL=278.60
2025-09-09 20:21:02,206 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'AVGO': {'direction': 'buy', 'poi_range': (np.float64(304.805), np.float64(316.975)), 'htf_stop_loss': np.float64(278.595), 'timestamp': datetime.datetime(2025, 9, 9, 16, 21, 2, 206098, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 20, 'type': 'Bullish'}}, 'daily_equity_start': 97925.38, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-09', 'last_saved': '2025-09-09T16:21:02.206109+00:00'}
2025-09-09 20:21:02,208 - root - INFO - _find_htf_setup_async:896 - [AVGO] New HTF setup added to watchlist. Direction: buy.
2025-09-09 20:21:02,208 - root - INFO - add_notification:33 - Notification: Setup Found - AVGO buy setup added to watchlist
2025-09-09 20:22:39,833 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-113.04 | PDT: 0/4
2025-09-09 20:23:04,370 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NOW] Pullback complete, awaiting MSS
2025-09-09 20:24:28,176 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-101.52 | PDT: 0/4
2025-09-09 20:26:09,565 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-112.00 | PDT: 0/4
2025-09-09 20:26:21,081 - root - INFO - _find_htf_setup_async:876 - [DFDV] NEW POI | Type=Bearish | Score=25 | Range=(17.75, 18.10) | SL=21.80
2025-09-09 20:26:21,082 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'AVGO': {'direction': 'buy', 'poi_range': (np.float64(304.805), np.float64(316.975)), 'htf_stop_loss': np.float64(278.595), 'timestamp': datetime.datetime(2025, 9, 9, 16, 21, 2, 206098, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 20, 'type': 'Bullish'}, 'DFDV': {'direction': 'sell', 'poi_range': (np.float64(17.75), np.float64(18.1)), 'htf_stop_loss': np.float64(21.800714285714292), 'timestamp': datetime.datetime(2025, 9, 9, 16, 26, 21, 82148, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 25, 'type': 'Bearish'}}, 'daily_equity_start': 97925.38, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-09', 'last_saved': '2025-09-09T16:26:21.082161+00:00'}
2025-09-09 20:26:21,083 - root - INFO - _find_htf_setup_async:896 - [DFDV] New HTF setup added to watchlist. Direction: sell.
2025-09-09 20:26:21,083 - root - INFO - add_notification:33 - Notification: Setup Found - DFDV sell setup added to watchlist
2025-09-09 20:26:29,397 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:27:37,134 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-126.00 | PDT: 0/4
2025-09-09 20:29:17,836 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-105.12 | PDT: 0/4
2025-09-09 20:31:05,308 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-102.24 | PDT: 0/4
2025-09-09 20:32:50,360 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-118.80 | PDT: 0/4
2025-09-09 20:34:35,975 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-107.29 | PDT: 0/4
2025-09-09 20:36:08,426 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-106.56 | PDT: 0/4
2025-09-09 20:36:15,915 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:37:43,036 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-111.60 | PDT: 0/4
2025-09-09 20:39:29,065 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-115.20 | PDT: 0/4
2025-09-09 20:41:16,117 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-112.32 | PDT: 0/4
2025-09-09 20:43:02,802 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-116.64 | PDT: 0/4
2025-09-09 20:44:44,575 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-102.24 | PDT: 0/4
2025-09-09 20:44:59,162 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:46:10,534 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-102.96 | PDT: 0/4
2025-09-09 20:47:57,243 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-120.96 | PDT: 0/4
2025-09-09 20:49:43,626 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-125.28 | PDT: 0/4
2025-09-09 20:51:32,086 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-110.88 | PDT: 0/4
2025-09-09 20:51:48,634 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SAP] Pullback complete, awaiting MSS
2025-09-09 20:53:16,336 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-144.00 | PDT: 0/4
2025-09-09 20:53:43,570 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 20:54:44,728 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-136.80 | PDT: 0/4
2025-09-09 20:56:24,380 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-106.56 | PDT: 0/4
2025-09-09 20:58:12,863 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-43.20 | PDT: 0/4
2025-09-09 20:59:59,744 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-70.56 | PDT: 0/4
2025-09-09 21:02:01,111 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-38.16 | PDT: 0/4
2025-09-09 21:03:36,366 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-20.88 | PDT: 0/4
2025-09-09 21:03:48,394 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:05:07,600 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-11.52 | PDT: 0/4
2025-09-09 21:06:53,386 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $14.40 | PDT: 0/4
2025-09-09 21:08:44,948 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $7.92 | PDT: 0/4
2025-09-09 21:10:34,084 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $11.52 | PDT: 0/4
2025-09-09 21:12:16,811 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1.44 | PDT: 0/4
2025-09-09 21:12:36,920 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:13:45,106 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $13.68 | PDT: 0/4
2025-09-09 21:15:27,482 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.72 | PDT: 0/4
2025-09-09 21:17:21,616 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-16.56 | PDT: 0/4
2025-09-09 21:19:07,838 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-56.16 | PDT: 0/4
2025-09-09 21:20:54,534 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-61.92 | PDT: 0/4
2025-09-09 21:22:28,827 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-51.12 | PDT: 0/4
2025-09-09 21:22:35,972 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:24:03,548 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-2.82 | PDT: 0/4
2025-09-09 21:25:48,216 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-12.24 | PDT: 0/4
2025-09-09 21:27:40,613 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-20.16 | PDT: 0/4
2025-09-09 21:29:26,289 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-27.36 | PDT: 0/4
2025-09-09 21:31:07,394 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-17.28 | PDT: 0/4
2025-09-09 21:31:22,641 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:32:35,066 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-15.84 | PDT: 0/4
2025-09-09 21:34:22,627 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-51.84 | PDT: 0/4
2025-09-09 21:34:33,999 - root - INFO - _check_ltf_confirmation_enhanced:960 - [ASML] Pullback complete, awaiting MSS
2025-09-09 21:36:09,977 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-65.52 | PDT: 0/4
2025-09-09 21:37:56,379 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-54.72 | PDT: 0/4
2025-09-09 21:39:40,769 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-67.68 | PDT: 0/4
2025-09-09 21:40:08,758 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:41:09,918 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-56.16 | PDT: 0/4
2025-09-09 21:42:48,793 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-47.52 | PDT: 0/4
2025-09-09 21:44:38,018 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-54.72 | PDT: 0/4
2025-09-09 21:46:30,559 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-70.56 | PDT: 0/4
2025-09-09 21:48:16,975 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-59.76 | PDT: 0/4
2025-09-09 21:48:30,226 - root - INFO - _check_ltf_confirmation_enhanced:960 - [TXN] Pullback complete, awaiting MSS
2025-09-09 21:49:52,243 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-84.96 | PDT: 0/4
2025-09-09 21:50:05,537 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:51:28,938 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-95.04 | PDT: 0/4
2025-09-09 21:53:15,681 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-89.28 | PDT: 0/4
2025-09-09 21:55:02,992 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-83.16 | PDT: 0/4
2025-09-09 21:56:50,418 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-97.20 | PDT: 0/4
2025-09-09 21:58:31,571 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-77.04 | PDT: 0/4
2025-09-09 21:58:51,843 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 21:59:59,425 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-59.04 | PDT: 0/4
2025-09-09 22:00:05,328 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-09 22:00:05,332 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-09 22:01:50,690 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-74.88 | PDT: 0/4
2025-09-09 22:03:41,376 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-77.76 | PDT: 0/4
2025-09-09 22:05:28,236 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-47.52 | PDT: 0/4
2025-09-09 22:07:15,695 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-24.48 | PDT: 0/4
2025-09-09 22:08:49,186 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $3.60 | PDT: 0/4
2025-09-09 22:08:56,552 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 22:10:24,248 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $5.63 | PDT: 0/4
2025-09-09 22:12:09,347 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-15.12 | PDT: 0/4
2025-09-09 22:13:55,540 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-64.80 | PDT: 0/4
2025-09-09 22:15:42,105 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-50.40 | PDT: 0/4
2025-09-09 22:17:26,142 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-61.92 | PDT: 0/4
2025-09-09 22:17:40,477 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 22:18:51,610 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-72.00 | PDT: 0/4
2025-09-09 22:19:09,499 - root - INFO - _check_ltf_confirmation_enhanced:960 - [AAPL] Pullback complete, awaiting MSS
2025-09-09 22:19:34,092 - root - INFO - _check_ltf_confirmation_enhanced:960 - [AMZN] Pullback complete, awaiting MSS
2025-09-09 22:20:39,613 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-69.84 | PDT: 0/4
2025-09-09 22:22:26,177 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-64.80 | PDT: 0/4
2025-09-09 22:23:29,701 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:29,701 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:41,678 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-09 22:23:43,159 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:43,159 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:43,701 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-09 22:23:46,035 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:46,035 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:23:46,568 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-09 22:24:11,581 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-96.48 | PDT: 0/4
2025-09-09 22:25:55,778 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-97.92 | PDT: 0/4
2025-09-09 22:26:24,278 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 22:27:25,441 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-92.16 | PDT: 0/4
2025-09-09 22:29:05,455 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-95.04 | PDT: 0/4
2025-09-09 22:30:53,820 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-110.88 | PDT: 0/4
2025-09-09 22:32:42,232 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-115.21 | PDT: 0/4
2025-09-09 22:34:28,600 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-101.52 | PDT: 0/4
2025-09-09 22:36:04,697 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-100.08 | PDT: 0/4
2025-09-09 22:36:17,665 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 22:37:37,143 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-110.88 | PDT: 0/4
2025-09-09 22:39:28,045 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-110.16 | PDT: 0/4
2025-09-09 22:41:16,479 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-113.76 | PDT: 0/4
2025-09-09 22:43:05,344 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-118.80 | PDT: 0/4
2025-09-09 22:44:47,906 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-124.14 | PDT: 0/4
2025-09-09 22:45:08,660 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-09 22:46:21,450 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:46:21,450 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-09 22:46:23,876 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-09 22:46:24,368 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-142.56 | PDT: 0/4
2025-09-10 20:15:57,763 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-10 20:15:57,780 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-10 20:15:57,780 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-10 20:15:57,780 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250910.log
2025-09-10 20:15:58,463 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-10 20:15:58,464 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-10 20:16:00,265 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-10 20:16:00,266 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-10 20:16:00,676 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-10 20:16:00,676 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-10 20:16:00,676 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-10 20:16:00,676 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250910.log
2025-09-10 20:16:04,640 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-10 20:36:39,032 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-10 20:36:39,032 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-10 20:36:39,032 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-10 20:36:39,033 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250910.log
2025-09-10 20:36:39,185 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-10 20:36:39,186 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-10 20:36:47,293 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-10 20:36:47,294 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-10 20:36:47,294 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-10 20:36:47,294 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250910.log
2025-09-10 20:36:47,326 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-10 20:36:47,327 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-10 20:36:47,581 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-10 20:36:47,581 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-10 20:36:47,641 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: E:\workspace\fast_api_trading_platform\logs
2025-09-10 20:36:47,642 - root - INFO - setup_logging:79 - Main log: logs\trading_agent.log
2025-09-10 20:36:47,642 - root - INFO - setup_logging:80 - Error log: logs\trading_errors.log
2025-09-10 20:36:47,642 - root - INFO - setup_logging:81 - Daily log: logs\daily_20250910.log
2025-09-10 20:36:48,167 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-10 20:50:14,341 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-10 20:50:14,341 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-10 20:50:14,341 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-10 20:50:14,342 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-10 20:50:14,342 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-10 20:50:14,343 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-10 20:50:14,348 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-10 20:50:15,730 - root - INFO - validate_connection:381 - Account access OK. Equity: $97,893.22
2025-09-10 20:50:16,005 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-10 20:50:17,496 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-10 20:50:18,101 - root - INFO - _update_status:69 - Services connected. Account Equity: $97,892.98 | Market: CLOSED
2025-09-10 20:50:18,102 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-10 20:50:18,127 - root - INFO - _load_agent_state:393 - Loaded agent state: 24 watchlist items, PDT: 0/4
2025-09-10 20:50:18,127 - root - INFO - _reset_daily_pdt_counter:197 - New trading day: 2025-09-10. PDT counter reset to 0/4
2025-09-10 20:50:18,597 - root - INFO - _update_daily_equity_tracking:432 - New trading day started. Starting equity: $97892.98
2025-09-10 20:50:18,827 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-10 20:50:30,909 - root - INFO - _check_ltf_confirmation_enhanced:960 - [AAPL] Pullback complete, awaiting MSS
2025-09-10 20:52:08,211 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $2.16 | PDT: 0/4
2025-09-10 20:52:28,506 - root - INFO - _find_htf_setup_async:876 - [CSCO] NEW POI | Type=Bearish | Score=25 | Range=(68.71, 69.16) | SL=71.12
2025-09-10 20:52:28,506 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'AVGO': {'type': 'Bullish', 'score': 20, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [304.805, 316.975], 'timestamp': '2025-09-09 16:21:02.206098+00:00', 'htf_stop_loss': 278.595, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'DFDV': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [17.75, 18.1], 'timestamp': '2025-09-09 16:26:21.082148+00:00', 'htf_stop_loss': 21.800714285714292, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'CSCO': {'direction': 'sell', 'poi_range': (np.float64(68.71), np.float64(69.16)), 'htf_stop_loss': np.float64(71.125), 'timestamp': datetime.datetime(2025, 9, 10, 16, 52, 28, 506825, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 25, 'type': 'Bearish'}}, 'daily_equity_start': 97892.98, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-10', 'last_saved': '2025-09-10T16:52:28.506841+00:00'}
2025-09-10 20:52:28,532 - root - INFO - _find_htf_setup_async:896 - [CSCO] New HTF setup added to watchlist. Direction: sell.
2025-09-10 20:52:28,532 - root - INFO - add_notification:33 - Notification: Setup Found - CSCO sell setup added to watchlist
2025-09-10 20:53:56,961 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-5.04 | PDT: 0/4
2025-09-10 20:54:06,658 - root - INFO - _find_htf_setup_async:876 - [META] NEW POI | Type=Bearish | Score=25 | Range=(761.95, 769.75) | SL=796.58
2025-09-10 20:54:06,658 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'AVGO': {'type': 'Bullish', 'score': 20, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [304.805, 316.975], 'timestamp': '2025-09-09 16:21:02.206098+00:00', 'htf_stop_loss': 278.595, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'DFDV': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [17.75, 18.1], 'timestamp': '2025-09-09 16:26:21.082148+00:00', 'htf_stop_loss': 21.800714285714292, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'CSCO': {'direction': 'sell', 'poi_range': (np.float64(68.71), np.float64(69.16)), 'htf_stop_loss': np.float64(71.125), 'timestamp': datetime.datetime(2025, 9, 10, 16, 52, 28, 506825, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 25, 'type': 'Bearish'}, 'META': {'direction': 'sell', 'poi_range': (np.float64(761.95), np.float64(769.75)), 'htf_stop_loss': np.float64(796.5807142857143), 'timestamp': datetime.datetime(2025, 9, 10, 16, 54, 6, 658591, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 25, 'type': 'Bearish'}}, 'daily_equity_start': 97892.98, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-10', 'last_saved': '2025-09-10T16:54:06.658606+00:00'}
2025-09-10 20:54:06,660 - root - INFO - _find_htf_setup_async:896 - [META] New HTF setup added to watchlist. Direction: sell.
2025-09-10 20:54:06,660 - root - INFO - add_notification:33 - Notification: Setup Found - META sell setup added to watchlist
2025-09-10 20:54:27,820 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NVDA] Pullback complete, awaiting MSS
2025-09-10 20:54:32,061 - root - INFO - _check_ltf_confirmation_enhanced:920 - [ORCL] Watchlist entry invalidated by SL breach
2025-09-10 20:55:46,517 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $46.08 | PDT: 0/4
2025-09-10 20:56:18,049 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SONO] Pullback complete, awaiting MSS
2025-09-10 20:57:29,779 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $54.72 | PDT: 0/4
2025-09-10 20:57:51,109 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-10 20:58:00,600 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 20:58:00,603 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 20:58:02,116 - root - ERROR - execute_db_query:48 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-10 20:58:02,216 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-10 20:58:10,811 - root - INFO - _fetch_live_data:184 - Fetched 21 data points for AAPL at 1d timeframe
2025-09-10 20:58:16,022 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 20:58:16,025 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 20:59:00,285 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $64.80 | PDT: 0/4
2025-09-10 20:59:18,856 - root - INFO - _check_ltf_confirmation_enhanced:960 - [OPEN] Pullback complete, awaiting MSS
2025-09-10 20:59:39,069 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 20:59:39,072 - root - INFO - __init__:23 - LLM Market Analyzer initialized with Gemini.
2025-09-10 21:00:44,674 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $81.36 | PDT: 0/4
2025-09-10 21:02:45,245 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $118.94 | PDT: 0/4
2025-09-10 21:04:32,578 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $146.88 | PDT: 0/4
2025-09-10 21:06:24,680 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $164.88 | PDT: 0/4
2025-09-11 05:08:22,265 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 05:08:22,267 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 05:08:22,267 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 05:08:22,268 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 05:08:22,352 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 05:08:22,353 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 05:08:23,078 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 05:08:23,079 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 05:08:23,349 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 05:08:23,350 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 05:08:23,350 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 05:08:23,350 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 05:08:24,796 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 05:09:33,340 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 05:09:33,341 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 05:09:33,341 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 05:09:33,342 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 05:09:33,342 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 05:09:33,343 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 05:09:33,348 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 05:09:34,404 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,075.14
2025-09-11 05:09:34,687 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 05:09:35,466 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-11 05:09:35,976 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,075.14 | Market: CLOSED
2025-09-11 05:09:35,976 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 05:09:35,984 - root - INFO - _load_agent_state:393 - Loaded agent state: 26 watchlist items, PDT: 0/4
2025-09-11 05:09:35,985 - root - INFO - _reset_daily_pdt_counter:197 - New trading day: 2025-09-11. PDT counter reset to 0/4
2025-09-11 05:09:36,520 - root - INFO - _update_daily_equity_tracking:432 - New trading day started. Starting equity: $98075.14
2025-09-11 05:09:36,754 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:09:58,234 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 05:09:58,236 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 05:09:58,237 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 05:09:58,238 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 05:09:58,269 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 05:09:58,271 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 05:09:58,553 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 05:09:58,555 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 05:09:58,608 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 05:09:58,610 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 05:09:58,611 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 05:09:58,612 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 05:09:59,109 - root - INFO - get_db_connection_pool:12 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 05:10:03,112 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 05:10:03,116 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 05:10:03,118 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 05:10:03,118 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 05:10:03,119 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 05:10:03,121 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 05:10:03,125 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 05:10:03,826 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,075.14
2025-09-11 05:10:04,059 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 05:10:05,025 - root - INFO - validate_connection:402 - Data access OK. Retrieved 3 bars for AAPL
2025-09-11 05:10:05,484 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,075.14 | Market: CLOSED
2025-09-11 05:10:05,486 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 05:10:05,490 - root - INFO - _load_agent_state:393 - Loaded agent state: 26 watchlist items, PDT: 0/4
2025-09-11 05:10:05,491 - root - INFO - _reset_daily_pdt_counter:197 - New trading day: 2025-09-11. PDT counter reset to 0/4
2025-09-11 05:10:05,954 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:11:56,782 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:13:49,213 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:14:19,534 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NVDA] Pullback complete, awaiting MSS
2025-09-11 05:14:23,802 - root - INFO - _check_ltf_confirmation_enhanced:920 - [ORCL] Watchlist entry invalidated by SL breach
2025-09-11 05:15:38,237 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:16:11,130 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SONO] Pullback complete, awaiting MSS
2025-09-11 05:17:23,807 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:17:45,779 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 05:18:53,493 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:19:10,045 - root - INFO - _check_ltf_confirmation_enhanced:960 - [OPEN] Pullback complete, awaiting MSS
2025-09-11 05:20:36,210 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:22:28,938 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:24:18,165 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:26:09,677 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:27:42,945 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:27:51,747 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 05:29:18,820 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:31:07,358 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:32:58,561 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:34:48,838 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:36:32,331 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:36:49,377 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 05:38:00,587 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:39:51,497 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:41:42,134 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:43:31,498 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:45:17,873 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:45:47,152 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 05:46:48,316 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:48:28,845 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:50:22,652 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:52:13,088 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:54:04,706 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:55:49,570 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:56:02,481 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 05:57:20,912 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 05:59:08,825 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:01:06,499 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:02:55,997 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:04:42,048 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:05:04,082 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:06:12,462 - root - ERROR - execute_db_query:48 - Database query failed: SSL connection has been closed unexpectedly

2025-09-11 06:06:12,465 - root - ERROR - _update_daily_equity_tracking:437 - Error updating daily equity tracking - start equity: $98075.14: connection already closed
Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/database.py", line 37, in execute_db_query
    cur.execute(query, params or ())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.OperationalError: SSL connection has been closed unexpectedly


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/agent.py", line 418, in _update_daily_equity_tracking
    result = await execute_db_query(self.db_pool, query, (today,), fetch='one')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/database.py", line 50, in execute_db_query
    conn.rollback()
    ~~~~~~~~~~~~~^^
psycopg2.InterfaceError: connection already closed
2025-09-11 06:06:12,715 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:07:57,753 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:09:46,539 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:11:32,225 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:13:27,535 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:15:01,938 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:15:09,575 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:16:39,317 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:18:27,379 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:20:19,162 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:22:05,581 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:23:47,262 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:24:02,115 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:25:13,273 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:27:00,724 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:28:48,089 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:30:32,950 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:32:17,230 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:32:44,523 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:33:45,692 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:35:24,295 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:37:13,254 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:38:59,112 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:40:44,424 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:42:19,285 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:42:32,160 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:43:50,384 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:45:36,464 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:47:23,647 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:49:11,933 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:50:53,843 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:51:14,828 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 06:52:22,333 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:54:07,327 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:56:01,541 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:57:52,650 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 06:59:44,824 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:01:17,204 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:01:26,276 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 07:02:56,597 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:04:46,303 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:06:33,398 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:08:19,007 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:10:05,677 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:10:22,931 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 07:11:33,885 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:13:27,301 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:15:21,625 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 07:17:12,507 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-11 13:53:58,116 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 13:53:58,116 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 13:53:58,116 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 13:53:58,116 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 13:53:58,200 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 13:53:58,201 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 13:53:58,604 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 13:53:58,605 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 13:53:58,696 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 13:53:58,696 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 13:53:58,696 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 13:53:58,696 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 13:53:59,510 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 13:54:26,767 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 13:54:26,768 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 13:54:26,768 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 13:54:26,768 - agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 13:54:26,768 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 13:54:26,769 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 13:54:26,802 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 13:54:27,587 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,003.86
2025-09-11 13:54:27,913 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 13:54:28,710 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 13:54:29,225 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,003.86 | Market: OPEN
2025-09-11 13:54:29,226 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-11 13:54:29,239 - root - INFO - _load_agent_state:393 - Loaded agent state: 26 watchlist items, PDT: 0/4
2025-09-11 13:54:29,239 - root - INFO - _reset_daily_pdt_counter:197 - New trading day: 2025-09-11. PDT counter reset to 0/4
2025-09-11 13:54:29,712 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-72.72 | PDT: 0/4
2025-09-11 13:54:43,967 - root - INFO - _find_htf_setup_async:876 - [ADBE] NEW POI | Type=Bearish | Score=23 | Range=(360.35, 361.92) | SL=379.76
2025-09-11 13:54:43,967 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'AVGO': {'type': 'Bullish', 'score': 20, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [304.805, 316.975], 'timestamp': '2025-09-09 16:21:02.206098+00:00', 'htf_stop_loss': 278.595, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'CSCO': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [68.71, 69.16], 'timestamp': '2025-09-10 16:52:28.506825+00:00', 'htf_stop_loss': 71.125, 'max_duration_seconds': 2592000.0}, 'DFDV': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [17.75, 18.1], 'timestamp': '2025-09-09 16:26:21.082148+00:00', 'htf_stop_loss': 21.800714285714292, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'META': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [761.95, 769.75], 'timestamp': '2025-09-10 16:54:06.658591+00:00', 'htf_stop_loss': 796.5807142857143, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'ADBE': {'direction': 'sell', 'poi_range': (360.35, 361.92), 'htf_stop_loss': np.float64(379.7557142857143), 'timestamp': datetime.datetime(2025, 9, 11, 13, 54, 43, 967362, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 23, 'type': 'Bearish'}}, 'daily_equity_start': 98075.14, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-11', 'last_saved': '2025-09-11T13:54:43.967387+00:00'}
2025-09-11 13:54:43,973 - root - INFO - _find_htf_setup_async:896 - [ADBE] New HTF setup added to watchlist. Direction: sell.
2025-09-11 13:54:43,973 - root - INFO - add_notification:33 - Notification: Setup Found - ADBE sell setup added to watchlist
2025-09-11 13:55:16,353 - root - INFO - _check_ltf_confirmation_enhanced:960 - [ASML] Pullback complete, awaiting MSS
2025-09-11 13:55:46,778 - root - ERROR - execute_db_query:58 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 13:55:46,778 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 13:55:49,831 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 13:56:17,509 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-125.28 | PDT: 0/4
2025-09-11 13:56:32,009 - root - INFO - _find_htf_setup_async:876 - [CRM] NEW POI | Type=Bearish | Score=23 | Range=(250.02, 250.73) | SL=264.83
2025-09-11 13:56:32,009 - root - INFO - _save_agent_state:334 - Saving agent state - {'watchlist': {'ACN': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [254.4, 256.09], 'timestamp': '2025-09-09 14:56:59.548768+00:00', 'htf_stop_loss': 266.49785714285713, 'max_duration_seconds': 2592000.0}, 'ADI': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [240.6, 244.305], 'timestamp': '2025-09-09 14:57:03.045397+00:00', 'htf_stop_loss': 228.9892857142857, 'max_duration_seconds': 2592000.0}, 'NOW': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [909.62, 932.585], 'timestamp': '2025-09-09 15:09:40.078218+00:00', 'htf_stop_loss': 862.0085714285715, 'max_duration_seconds': 2592000.0}, 'SAP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [271.41, 273.69], 'timestamp': '2025-09-09 15:11:10.781090+00:00', 'htf_stop_loss': 281.36, 'max_duration_seconds': 2592000.0}, 'TXN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [185.175, 187.63], 'timestamp': '2025-09-09 15:11:30.935255+00:00', 'htf_stop_loss': 197.64714285714285, 'max_duration_seconds': 2592000.0}, 'AAPL': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_mss', 'direction': 'buy', 'poi_range': [232.48, 234.76], 'timestamp': '2025-09-09 14:56:52.354489+00:00', 'htf_stop_loss': 224.74499999999998, 'max_duration_seconds': 2592000.0}, 'AMZN': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [238.14, 239.57], 'timestamp': '2025-09-09 14:57:17.792854+00:00', 'htf_stop_loss': 248.78142857142856, 'max_duration_seconds': 2592000.0}, 'ANET': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [137.1, 138.19], 'timestamp': '2025-09-09 14:57:22.042762+00:00', 'htf_stop_loss': 129.34357142857144, 'max_duration_seconds': 2592000.0}, 'ASML': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_mss', 'direction': 'sell', 'poi_range': [804.89, 808.01], 'timestamp': '2025-09-09 14:57:28.163251+00:00', 'htf_stop_loss': 841.1071428571428, 'max_duration_seconds': 2592000.0}, 'AVGO': {'type': 'Bullish', 'score': 20, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [304.805, 316.975], 'timestamp': '2025-09-09 16:21:02.206098+00:00', 'htf_stop_loss': 278.595, 'max_duration_seconds': 2592000.0}, 'CRDO': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [142.33, 147.405], 'timestamp': '2025-09-09 15:13:09.087020+00:00', 'htf_stop_loss': 126.80428571428573, 'max_duration_seconds': 2592000.0}, 'CSCO': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [68.71, 69.16], 'timestamp': '2025-09-10 16:52:28.506825+00:00', 'htf_stop_loss': 71.125, 'max_duration_seconds': 2592000.0}, 'DFDV': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [17.75, 18.1], 'timestamp': '2025-09-09 16:26:21.082148+00:00', 'htf_stop_loss': 21.800714285714292, 'max_duration_seconds': 2592000.0}, 'GOOG': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.77, 233.99], 'timestamp': '2025-09-09 14:58:52.405718+00:00', 'htf_stop_loss': 221.19285714285715, 'max_duration_seconds': 2592000.0}, 'INTU': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [672.195, 675.995], 'timestamp': '2025-09-09 14:59:10.632106+00:00', 'htf_stop_loss': 701.2178571428572, 'max_duration_seconds': 2592000.0}, 'LASR': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [27.05, 27.585], 'timestamp': '2025-09-09 15:13:04.814370+00:00', 'htf_stop_loss': 24.785714285714285, 'max_duration_seconds': 2592000.0}, 'META': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [761.95, 769.75], 'timestamp': '2025-09-10 16:54:06.658591+00:00', 'htf_stop_loss': 796.5807142857143, 'max_duration_seconds': 2592000.0}, 'NVDA': {'type': 'Bearish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.5, 173.83], 'timestamp': '2025-09-09 15:09:45.130385+00:00', 'htf_stop_loss': 184.08357142857142, 'max_duration_seconds': 2592000.0}, 'OPEN': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [5.39, 5.9], 'timestamp': '2025-09-09 15:14:30.547288+00:00', 'htf_stop_loss': 3.605714285714286, 'max_duration_seconds': 2592000.0}, 'ORCL': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [242.21, 245.0], 'timestamp': '2025-09-09 15:09:49.448173+00:00', 'htf_stop_loss': 258.40214285714285, 'max_duration_seconds': 2592000.0}, 'PLTR': {'type': 'Bearish', 'score': 18, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [172.29, 173.405], 'timestamp': '2025-09-09 15:09:58.186332+00:00', 'htf_stop_loss': 187.69285714285715, 'max_duration_seconds': 2592000.0}, 'SHOP': {'type': 'Bearish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'sell', 'poi_range': [145.07, 148.585], 'timestamp': '2025-09-09 15:11:15.286205+00:00', 'htf_stop_loss': 156.88071428571428, 'max_duration_seconds': 2592000.0}, 'SITM': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [237.49, 238.61], 'timestamp': '2025-09-09 15:14:20.244125+00:00', 'htf_stop_loss': 217.18857142857144, 'max_duration_seconds': 2592000.0}, 'SONO': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [14.65, 14.73], 'timestamp': '2025-09-09 15:11:33.792094+00:00', 'htf_stop_loss': 13.918571428571429, 'max_duration_seconds': 2592000.0}, 'TSLA': {'type': 'Bullish', 'score': 25, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [338.275, 341.71], 'timestamp': '2025-09-09 15:11:22.538817+00:00', 'htf_stop_loss': 314.15714285714284, 'max_duration_seconds': 2592000.0}, 'GOOGL': {'type': 'Bullish', 'score': 23, 'state': 'awaiting_pullback', 'direction': 'buy', 'poi_range': [232.36, 233.67], 'timestamp': '2025-09-09 14:58:57.351727+00:00', 'htf_stop_loss': 220.64142857142858, 'max_duration_seconds': 2592000.0}, 'ADBE': {'direction': 'sell', 'poi_range': (360.35, 361.92), 'htf_stop_loss': np.float64(379.7557142857143), 'timestamp': datetime.datetime(2025, 9, 11, 13, 54, 43, 967362, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 23, 'type': 'Bearish'}, 'CRM': {'direction': 'sell', 'poi_range': (250.02, 250.73), 'htf_stop_loss': np.float64(264.8285714285714), 'timestamp': datetime.datetime(2025, 9, 11, 13, 56, 32, 9446, tzinfo=datetime.timezone.utc), 'max_duration_seconds': 2592000.0, 'state': 'awaiting_pullback', 'score': 23, 'type': 'Bearish'}}, 'daily_equity_start': 98075.14, 'daily_trades_executed': 0, 'current_trading_day': '2025-09-11', 'last_saved': '2025-09-11T13:56:32.009464+00:00'}
2025-09-11 13:56:32,014 - root - INFO - _find_htf_setup_async:896 - [CRM] New HTF setup added to watchlist. Direction: sell.
2025-09-11 13:56:32,014 - root - INFO - add_notification:33 - Notification: Setup Found - CRM sell setup added to watchlist
2025-09-11 13:58:05,799 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $14.40 | PDT: 0/4
2025-09-11 13:58:37,061 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NVDA] Pullback complete, awaiting MSS
2025-09-11 13:58:41,507 - root - INFO - _check_ltf_confirmation_enhanced:920 - [ORCL] Watchlist entry invalidated by SL breach
2025-09-11 13:59:55,962 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-25.20 | PDT: 0/4
2025-09-11 14:00:08,174 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SHOP] Pullback complete, awaiting MSS
2025-09-11 14:01:56,551 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $41.04 | PDT: 0/4
2025-09-11 14:02:17,766 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 14:03:25,460 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-28.80 | PDT: 0/4
2025-09-11 14:05:26,819 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $38.88 | PDT: 0/4
2025-09-11 14:07:54,675 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $99.36 | PDT: 0/4
2025-09-11 14:10:13,798 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 14:13:05,291 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $133.20 | PDT: 0/4
2025-09-11 14:15:01,544 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $156.24 | PDT: 0/4
2025-09-11 14:15:09,720 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 14:16:47,670 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $90.72 | PDT: 0/4
2025-09-11 14:19:09,503 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $108.00 | PDT: 0/4
2025-09-11 14:21:41,172 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $200.15 | PDT: 0/4
2025-09-11 14:24:00,420 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $168.48 | PDT: 0/4
2025-09-11 14:25:53,570 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $221.76 | PDT: 0/4
2025-09-11 14:26:09,564 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 14:27:21,205 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $211.68 | PDT: 0/4
2025-09-11 14:29:25,696 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $284.40 | PDT: 0/4
2025-09-11 14:31:57,626 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $271.44 | PDT: 0/4
2025-09-11 14:34:10,938 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $366.48 | PDT: 0/4
2025-09-11 14:35:56,342 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $324.00 | PDT: 0/4
2025-09-11 14:36:24,970 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 14:37:26,144 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $322.56 | PDT: 0/4
2025-09-11 14:39:05,322 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $325.44 | PDT: 0/4
2025-09-11 14:40:55,928 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $361.44 | PDT: 0/4
2025-09-11 14:42:43,978 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $381.05 | PDT: 0/4
2025-09-11 14:45:00,929 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $348.48 | PDT: 0/4
2025-09-11 14:46:53,499 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $276.48 | PDT: 0/4
2025-09-11 14:47:27,293 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 14:48:52,891 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $232.56 | PDT: 0/4
2025-09-11 14:51:40,985 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $177.84 | PDT: 0/4
2025-09-11 14:54:32,769 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $56.16 | PDT: 0/4
2025-09-11 14:56:22,114 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-7.20 | PDT: 0/4
2025-09-11 14:58:05,474 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $7.20 | PDT: 0/4
2025-09-11 15:00:46,839 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 15:00:46,843 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 15:00:46,843 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 15:00:46,843 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 15:00:46,941 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 15:00:46,941 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 15:01:08,855 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 15:01:08,855 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 15:01:08,856 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 15:01:08,856 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 15:01:08,916 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 15:01:08,917 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 15:01:09,413 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 15:01:09,415 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 15:01:27,607 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 15:01:27,608 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 15:01:27,608 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 15:01:27,608 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 15:01:27,680 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 15:01:27,681 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 15:01:28,204 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 15:01:28,205 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 15:01:29,457 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 15:01:54,044 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 15:01:54,045 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 15:01:54,045 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 15:01:54,046 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 15:01:54,048 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 15:01:54,048 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 15:01:54,087 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 15:01:54,883 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,169.46
2025-09-11 15:01:55,124 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 15:01:55,990 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 15:01:56,489 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,173.05 | Market: OPEN
2025-09-11 15:01:56,491 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=True
2025-09-11 15:01:56,497 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 15:01:56,968 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $97.91 | PDT: 0/4
2025-09-11 16:05:46,241 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:05:46,243 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:05:46,244 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:05:46,245 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:05:46,328 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:05:46,330 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:05:46,725 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:05:46,727 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:05:47,634 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:06:03,547 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 16:06:03,547 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 16:06:03,548 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 16:06:03,548 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 16:06:03,548 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 16:06:03,549 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 16:06:03,585 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 16:06:04,635 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,427.22
2025-09-11 16:06:04,927 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 16:06:05,681 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 16:06:06,195 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,428.66 | Market: CLOSED
2025-09-11 16:06:06,195 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 16:06:06,211 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 16:06:06,793 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $352.80 | PDT: 0/4
2025-09-11 16:08:03,260 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $347.04 | PDT: 0/4
2025-09-11 16:09:54,494 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $355.68 | PDT: 0/4
2025-09-11 16:10:26,461 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:10:26,461 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:10:26,462 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:10:26,462 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:10:26,525 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:10:26,525 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:10:26,869 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:10:26,871 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:10:27,407 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:11:31,337 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 16:11:31,359 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 16:11:31,360 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 16:11:31,360 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 16:11:31,361 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 16:11:31,389 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 16:11:31,394 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 16:11:32,374 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,403.10
2025-09-11 16:11:32,660 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 16:11:33,402 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 16:11:33,875 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,415.70 | Market: CLOSED
2025-09-11 16:11:33,877 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 16:11:33,882 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 16:11:34,348 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $338.40 | PDT: 0/4
2025-09-11 16:12:36,713 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:12:36,714 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:12:36,714 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:12:36,714 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:12:36,770 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:12:36,771 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:12:37,262 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:12:37,262 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:12:38,238 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:12:43,776 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:12:43,778 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:12:43,779 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:12:43,780 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:12:43,812 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:12:43,813 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:12:44,102 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:12:44,104 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:12:44,678 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:13:03,059 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:13:03,060 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:13:03,063 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:13:03,063 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:13:03,096 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:13:03,099 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:13:03,405 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:13:03,409 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:13:03,997 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:13:10,803 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 16:13:10,804 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 16:13:10,813 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 16:13:10,813 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 16:13:10,813 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 16:13:10,887 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 16:13:10,891 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 16:13:11,656 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,399.14
2025-09-11 16:13:11,906 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 16:13:12,723 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 16:13:13,187 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,399.14 | Market: CLOSED
2025-09-11 16:13:13,188 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 16:13:13,193 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 16:13:13,656 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $324.00 | PDT: 0/4
2025-09-11 16:15:07,172 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $306.72 | PDT: 0/4
2025-09-11 16:17:45,536 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $300.96 | PDT: 0/4
2025-09-11 16:23:11,463 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:23:11,466 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:23:11,466 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:23:11,467 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:23:11,549 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:23:11,550 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:23:11,953 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:23:11,954 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:23:12,890 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:23:31,670 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 16:23:31,671 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 16:23:31,672 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 16:23:31,673 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 16:23:31,674 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 16:23:31,676 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 16:23:32,036 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 16:23:32,807 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,453.14
2025-09-11 16:23:33,040 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 16:23:34,027 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 16:23:34,492 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,453.14 | Market: CLOSED
2025-09-11 16:23:34,493 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 16:23:34,602 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 16:23:35,073 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $378.00 | PDT: 0/4
2025-09-11 16:25:22,890 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $324.00 | PDT: 0/4
2025-09-11 16:27:11,744 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $295.60 | PDT: 0/4
2025-09-11 16:27:43,747 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NVDA] Pullback complete, awaiting MSS
2025-09-11 16:27:48,052 - root - INFO - _check_ltf_confirmation_enhanced:920 - [ORCL] Watchlist entry invalidated by SL breach
2025-09-11 16:29:02,892 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $282.96 | PDT: 0/4
2025-09-11 16:29:14,861 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SHOP] Pullback complete, awaiting MSS
2025-09-11 16:30:45,693 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $300.96 | PDT: 0/4
2025-09-11 16:31:08,125 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 16:32:15,800 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $287.28 | PDT: 0/4
2025-09-11 16:33:57,407 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $296.64 | PDT: 0/4
2025-09-11 16:35:47,174 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $262.08 | PDT: 0/4
2025-09-11 16:37:34,316 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $257.04 | PDT: 0/4
2025-09-11 16:39:26,979 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $300.96 | PDT: 0/4
2025-09-11 16:40:59,719 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $272.16 | PDT: 0/4
2025-09-11 16:41:07,690 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 16:42:35,720 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $282.23 | PDT: 0/4
2025-09-11 16:44:23,850 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $303.12 | PDT: 0/4
2025-09-11 16:46:45,091 - root - INFO - setup_logging:78 - Logging configured. Log files will be written to: /home/ubuntu/fast_api_trading/logs
2025-09-11 16:46:45,092 - root - INFO - setup_logging:79 - Main log: logs/trading_agent.log
2025-09-11 16:46:45,093 - root - INFO - setup_logging:80 - Error log: logs/trading_errors.log
2025-09-11 16:46:45,094 - root - INFO - setup_logging:81 - Daily log: logs/daily_20250911.log
2025-09-11 16:46:45,124 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:46:45,126 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:46:45,404 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 1
2025-09-11 16:46:45,406 - dotenv.main - WARNING - with_warn_for_invalid_lines:27 - python-dotenv could not parse statement starting at line 7
2025-09-11 16:46:45,937 - root - INFO - get_db_connection_pool:13 - Connecting to PostgreSQL database... {'dbname': 'paper_trading', 'user': 'postgres', 'host': 'localhost', 'port': '5432'}
2025-09-11 16:48:51,387 - root - INFO - get_broker:9 - Selected data provider: alpaca
2025-09-11 16:48:51,387 - root - INFO - get_broker:12 - Using Alpaca as the data and trading provider.
2025-09-11 16:48:51,388 - root - INFO - __init__:68 - AlpacaBroker initialized. Paper trading: True
2025-09-11 16:48:51,388 - app.agent.live_orders_manager - INFO - __init__:85 - LiveOrdersManager initialized with trailing stop support
2025-09-11 16:48:51,388 - root - INFO - __init__:60 - PDT Management: Enabled (Limit: 4 trades/day)
2025-09-11 16:48:51,389 - root - INFO - run_async:119 - Trading Agent's async loop started.
2025-09-11 16:48:51,391 - root - INFO - start_monitoring:95 - Live orders monitoring started.
2025-09-11 16:48:52,103 - root - INFO - validate_connection:381 - Account access OK. Equity: $98,370.33
2025-09-11 16:48:52,336 - root - INFO - validate_connection:386 - Trading access OK. Current positions: 1
2025-09-11 16:48:53,072 - root - INFO - validate_connection:402 - Data access OK. Retrieved 4 bars for AAPL
2025-09-11 16:48:53,537 - root - INFO - _update_status:69 - Services connected. Account Equity: $98,370.33 | Market: CLOSED
2025-09-11 16:48:53,537 - root - INFO - _connect_services:100 - Broker validation: Account=True, Trading=True, Data=True, Market Open=False
2025-09-11 16:48:53,540 - root - INFO - _load_agent_state:393 - Loaded agent state: 28 watchlist items, PDT: 0/4
2025-09-11 16:48:54,006 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $295.19 | PDT: 0/4
2025-09-11 16:50:41,409 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $197.28 | PDT: 0/4
2025-09-11 16:51:05,925 - root - ERROR - execute_db_query:58 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:51:05,929 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:51:08,576 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 16:51:11,594 - root - ERROR - execute_db_query:58 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:51:11,595 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:51:12,003 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 16:52:01,792 - root - ERROR - execute_db_query:58 - Database query failed: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:52:01,792 - root - ERROR - _get_market_data_from_db:127 - Error getting data from database: relation "market_data" does not exist
LINE 3:             FROM market_data 
                         ^

2025-09-11 16:52:02,209 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 16:52:29,352 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $144.00 | PDT: 0/4
2025-09-11 16:53:01,074 - root - INFO - _check_ltf_confirmation_enhanced:960 - [NVDA] Pullback complete, awaiting MSS
2025-09-11 16:53:05,545 - root - INFO - _check_ltf_confirmation_enhanced:920 - [ORCL] Watchlist entry invalidated by SL breach
2025-09-11 16:54:20,150 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 16:54:31,931 - root - INFO - _check_ltf_confirmation_enhanced:960 - [SHOP] Pullback complete, awaiting MSS
2025-09-11 16:56:02,695 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 16:56:25,164 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 16:57:05,412 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 16:57:32,764 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $151.92 | PDT: 0/4
2025-09-11 16:57:45,178 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for AAPL at 1d timeframe
2025-09-11 16:57:50,191 - root - INFO - _fetch_live_data:184 - Fetched 22 data points for IBM at 1d timeframe
2025-09-11 16:59:14,744 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.83 | PDT: 0/4
2025-09-11 17:01:05,047 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $93.60 | PDT: 0/4
2025-09-11 17:03:05,190 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $66.24 | PDT: 0/4
2025-09-11 17:04:53,106 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $46.80 | PDT: 0/4
2025-09-11 17:06:30,840 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $51.84 | PDT: 0/4
2025-09-11 17:06:38,383 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:08:07,103 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $72.72 | PDT: 0/4
2025-09-11 17:09:54,687 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $84.96 | PDT: 0/4
2025-09-11 17:11:46,295 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $77.04 | PDT: 0/4
2025-09-11 17:13:35,355 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $81.63 | PDT: 0/4
2025-09-11 17:15:18,577 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $83.52 | PDT: 0/4
2025-09-11 17:15:40,822 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:16:52,049 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $82.09 | PDT: 0/4
2025-09-11 17:18:41,310 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.96 | PDT: 0/4
2025-09-11 17:20:29,748 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $67.68 | PDT: 0/4
2025-09-11 17:22:16,797 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $86.40 | PDT: 0/4
2025-09-11 17:24:07,523 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $53.28 | PDT: 0/4
2025-09-11 17:24:36,691 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:25:37,864 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.96 | PDT: 0/4
2025-09-11 17:27:17,357 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $11.52 | PDT: 0/4
2025-09-11 17:29:08,158 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-17.28 | PDT: 0/4
2025-09-11 17:30:54,997 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1.44 | PDT: 0/4
2025-09-11 17:32:44,501 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $34.56 | PDT: 0/4
2025-09-11 17:34:20,749 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.96 | PDT: 0/4
2025-09-11 17:34:34,271 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:35:53,181 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $15.84 | PDT: 0/4
2025-09-11 17:37:42,677 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1.44 | PDT: 0/4
2025-09-11 17:39:31,672 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-25.20 | PDT: 0/4
2025-09-11 17:41:27,556 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-13.68 | PDT: 0/4
2025-09-11 17:43:10,890 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-13.68 | PDT: 0/4
2025-09-11 17:43:32,367 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:44:39,986 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-12.95 | PDT: 0/4
2025-09-11 17:46:31,624 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-31.68 | PDT: 0/4
2025-09-11 17:48:22,219 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-47.52 | PDT: 0/4
2025-09-11 17:50:10,095 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-55.44 | PDT: 0/4
2025-09-11 17:52:01,181 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-38.16 | PDT: 0/4
2025-09-11 17:53:36,696 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-61.92 | PDT: 0/4
2025-09-11 17:53:44,361 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 17:55:12,504 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-51.12 | PDT: 0/4
2025-09-11 17:57:02,710 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-59.04 | PDT: 0/4
2025-09-11 17:58:56,918 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-43.92 | PDT: 0/4
2025-09-11 18:00:44,247 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-47.52 | PDT: 0/4
2025-09-11 18:02:31,995 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-50.40 | PDT: 0/4
2025-09-11 18:02:47,533 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:04:00,366 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-57.31 | PDT: 0/4
2025-09-11 18:05:50,487 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-72.00 | PDT: 0/4
2025-09-11 18:07:40,393 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-80.64 | PDT: 0/4
2025-09-11 18:09:33,302 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-22.32 | PDT: 0/4
2025-09-11 18:11:21,643 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $41.76 | PDT: 0/4
2025-09-11 18:11:50,466 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:12:51,637 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-34.56 | PDT: 0/4
2025-09-11 18:14:30,918 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-61.20 | PDT: 0/4
2025-09-11 18:16:27,407 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-57.60 | PDT: 0/4
2025-09-11 18:18:16,482 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-66.24 | PDT: 0/4
2025-09-11 18:20:04,134 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-74.88 | PDT: 0/4
2025-09-11 18:21:44,841 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-77.76 | PDT: 0/4
2025-09-11 18:21:59,266 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:23:18,994 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-72.00 | PDT: 0/4
2025-09-11 18:25:06,829 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-53.28 | PDT: 0/4
2025-09-11 18:26:58,471 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-54.72 | PDT: 0/4
2025-09-11 18:28:52,768 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-40.32 | PDT: 0/4
2025-09-11 18:30:35,769 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-56.16 | PDT: 0/4
2025-09-11 18:31:03,955 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:32:12,076 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $3.57 | PDT: 0/4
2025-09-11 18:33:54,935 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-5.04 | PDT: 0/4
2025-09-11 18:35:45,102 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-33.12 | PDT: 0/4
2025-09-11 18:37:31,239 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-6.48 | PDT: 0/4
2025-09-11 18:39:19,474 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $33.12 | PDT: 0/4
2025-09-11 18:40:52,349 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-23.76 | PDT: 0/4
2025-09-11 18:41:00,183 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:42:28,407 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-5.76 | PDT: 0/4
2025-09-11 18:44:15,909 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $6.48 | PDT: 0/4
2025-09-11 18:46:05,012 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-5.04 | PDT: 0/4
2025-09-11 18:47:53,262 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $19.44 | PDT: 0/4
2025-09-11 18:49:36,635 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $22.92 | PDT: 0/4
2025-09-11 18:49:51,700 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:51:02,665 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $81.36 | PDT: 0/4
2025-09-11 18:52:57,541 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $89.28 | PDT: 0/4
2025-09-11 18:54:46,549 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $103.68 | PDT: 0/4
2025-09-11 18:56:33,628 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $64.80 | PDT: 0/4
2025-09-11 18:58:18,890 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $34.56 | PDT: 0/4
2025-09-11 18:58:47,096 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 18:59:48,260 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $57.60 | PDT: 0/4
2025-09-11 19:01:40,864 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $56.17 | PDT: 0/4
2025-09-11 19:03:31,145 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $56.16 | PDT: 0/4
2025-09-11 19:05:17,912 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $60.48 | PDT: 0/4
2025-09-11 19:07:04,464 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $54.72 | PDT: 0/4
2025-09-11 19:08:44,648 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.24 | PDT: 0/4
2025-09-11 19:08:57,808 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:10:17,860 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $25.92 | PDT: 0/4
2025-09-11 19:12:04,419 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $27.36 | PDT: 0/4
2025-09-11 19:13:51,910 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $23.76 | PDT: 0/4
2025-09-11 19:15:42,105 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $30.24 | PDT: 0/4
2025-09-11 19:17:26,870 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $10.08 | PDT: 0/4
2025-09-11 19:17:47,999 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:18:55,624 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $20.16 | PDT: 0/4
2025-09-11 19:20:40,036 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $31.82 | PDT: 0/4
2025-09-11 19:22:33,168 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $27.36 | PDT: 0/4
2025-09-11 19:24:22,375 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $40.32 | PDT: 0/4
2025-09-11 19:26:10,754 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $49.68 | PDT: 0/4
2025-09-11 19:27:45,519 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.96 | PDT: 0/4
2025-09-11 19:27:53,492 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:29:23,177 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $48.24 | PDT: 0/4
2025-09-11 19:31:15,708 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $67.68 | PDT: 0/4
2025-09-11 19:33:13,035 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $36.00 | PDT: 0/4
2025-09-11 19:35:04,536 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $53.28 | PDT: 0/4
2025-09-11 19:36:58,589 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $46.08 | PDT: 0/4
2025-09-11 19:37:15,045 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:38:25,764 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $54.72 | PDT: 0/4
2025-09-11 19:40:29,651 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $51.12 | PDT: 0/4
2025-09-11 19:42:22,115 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $33.12 | PDT: 0/4
2025-09-11 19:44:10,552 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $38.88 | PDT: 0/4
2025-09-11 19:45:58,587 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $28.80 | PDT: 0/4
2025-09-11 19:46:30,692 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:47:31,868 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $46.08 | PDT: 0/4
2025-09-11 19:48:00,749 - root - INFO - _check_ltf_confirmation_enhanced:972 - [AAPL] MSS confirmed with volume
2025-09-11 19:49:13,412 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $27.36 | PDT: 0/4
2025-09-11 19:51:06,480 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $61.92 | PDT: 0/4
2025-09-11 19:52:55,069 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $138.96 | PDT: 0/4
2025-09-11 19:54:46,166 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $149.76 | PDT: 0/4
2025-09-11 19:56:28,764 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $104.40 | PDT: 0/4
2025-09-11 19:56:41,927 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 19:58:00,738 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $131.04 | PDT: 0/4
2025-09-11 19:59:48,828 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $70.56 | PDT: 0/4
2025-09-11 20:01:52,872 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:03:46,760 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:05:31,662 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:05:52,562 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:07:00,266 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:08:46,404 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $162.72 | PDT: 0/4
2025-09-11 20:10:37,922 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $162.72 | PDT: 0/4
2025-09-11 20:12:25,904 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $144.00 | PDT: 0/4
2025-09-11 20:14:14,441 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $119.52 | PDT: 0/4
2025-09-11 20:15:49,745 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $99.36 | PDT: 0/4
2025-09-11 20:15:58,347 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:16:25,136 - root - INFO - _check_ltf_confirmation_enhanced:960 - [ADBE] Pullback complete, awaiting MSS
2025-09-11 20:17:26,300 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $99.36 | PDT: 0/4
2025-09-11 20:19:15,261 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $128.16 | PDT: 0/4
2025-09-11 20:21:09,623 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $109.01 | PDT: 0/4
2025-09-11 20:23:03,911 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.19 | PDT: 0/4
2025-09-11 20:24:48,583 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $136.80 | PDT: 0/4
2025-09-11 20:25:03,414 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:26:14,343 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $136.80 | PDT: 0/4
2025-09-11 20:28:04,776 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $125.28 | PDT: 0/4
2025-09-11 20:29:52,345 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 20:31:58,296 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $112.32 | PDT: 0/4
2025-09-11 20:33:43,578 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $112.32 | PDT: 0/4
2025-09-11 20:34:11,651 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:35:12,813 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $112.32 | PDT: 0/4
2025-09-11 20:36:52,738 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:38:43,004 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:40:31,227 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:42:18,183 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:43:54,329 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:44:08,071 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:45:27,552 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:47:16,115 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:49:03,972 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:50:55,042 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:52:37,035 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 20:52:58,303 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 20:54:06,213 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 20:55:51,069 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $151.20 | PDT: 0/4
2025-09-11 20:57:42,753 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $126.72 | PDT: 0/4
2025-09-11 20:59:28,046 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:01:19,283 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:02:55,161 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:03:02,955 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:04:30,964 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:06:18,159 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:08:13,637 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:10:01,213 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:11:44,581 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:11:59,790 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:13:10,510 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $92.16 | PDT: 0/4
2025-09-11 21:15:02,267 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $119.52 | PDT: 0/4
2025-09-11 21:16:51,720 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $146.88 | PDT: 0/4
2025-09-11 21:18:39,519 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $146.88 | PDT: 0/4
2025-09-11 21:20:25,801 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 21:20:54,325 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:21:55,484 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 21:23:36,105 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 21:25:28,891 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $116.64 | PDT: 0/4
2025-09-11 21:27:19,344 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $105.12 | PDT: 0/4
2025-09-11 21:29:07,647 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $93.60 | PDT: 0/4
2025-09-11 21:30:45,110 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $257.76 | PDT: 0/4
2025-09-11 21:30:59,530 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:32:19,058 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $698.40 | PDT: 0/4
2025-09-11 21:34:10,189 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1602.72 | PDT: 0/4
2025-09-11 21:36:03,778 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1725.12 | PDT: 0/4
2025-09-11 21:37:59,527 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1530.72 | PDT: 0/4
2025-09-11 21:39:41,827 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1304.91 | PDT: 0/4
2025-09-11 21:40:02,915 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:41:11,792 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1611.36 | PDT: 0/4
2025-09-11 21:42:53,245 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1745.28 | PDT: 0/4
2025-09-11 21:44:47,787 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1530.72 | PDT: 0/4
2025-09-11 21:46:36,942 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1604.16 | PDT: 0/4
2025-09-11 21:48:26,038 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1710.71 | PDT: 0/4
2025-09-11 21:50:02,956 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1768.32 | PDT: 0/4
2025-09-11 21:50:11,095 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 21:51:39,770 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1883.52 | PDT: 0/4
2025-09-11 21:53:29,432 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1860.48 | PDT: 0/4
2025-09-11 21:55:17,907 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1876.32 | PDT: 0/4
2025-09-11 21:57:05,493 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1892.16 | PDT: 0/4
2025-09-11 21:58:48,419 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1961.28 | PDT: 0/4
2025-09-11 21:59:02,675 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:00:14,038 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1890.72 | PDT: 0/4
2025-09-11 22:02:04,743 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1905.12 | PDT: 0/4
2025-09-11 22:03:51,708 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1890.72 | PDT: 0/4
2025-09-11 22:05:41,388 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1932.48 | PDT: 0/4
2025-09-11 22:07:29,999 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1749.60 | PDT: 0/4
2025-09-11 22:07:59,935 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:09:01,105 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1674.72 | PDT: 0/4
2025-09-11 22:10:42,196 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1746.72 | PDT: 0/4
2025-09-11 22:12:32,461 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1788.48 | PDT: 0/4
2025-09-11 22:14:18,003 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1674.72 | PDT: 0/4
2025-09-11 22:16:04,940 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1530.43 | PDT: 0/4
2025-09-11 22:17:41,293 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1448.41 | PDT: 0/4
2025-09-11 22:17:54,438 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:19:13,226 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1444.32 | PDT: 0/4
2025-09-11 22:20:59,764 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1452.93 | PDT: 0/4
2025-09-11 22:22:49,147 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1444.32 | PDT: 0/4
2025-09-11 22:24:39,583 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1278.84 | PDT: 0/4
2025-09-11 22:26:21,481 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1287.36 | PDT: 0/4
2025-09-11 22:26:42,351 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:27:50,265 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1285.92 | PDT: 0/4
2025-09-11 22:29:31,850 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1314.72 | PDT: 0/4
2025-09-11 22:31:21,857 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1357.98 | PDT: 0/4
2025-09-11 22:33:09,128 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1340.64 | PDT: 0/4
2025-09-11 22:34:56,862 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1321.37 | PDT: 0/4
2025-09-11 22:36:29,452 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1332.00 | PDT: 0/4
2025-09-11 22:36:37,197 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:38:04,115 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1340.64 | PDT: 0/4
2025-09-11 22:39:50,969 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1359.36 | PDT: 0/4
2025-09-11 22:41:39,283 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1281.60 | PDT: 0/4
2025-09-11 22:43:25,351 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1223.99 | PDT: 0/4
2025-09-11 22:45:07,790 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1212.15 | PDT: 0/4
2025-09-11 22:45:23,313 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:46:34,193 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1242.72 | PDT: 0/4
2025-09-11 22:48:27,203 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1260.00 | PDT: 0/4
2025-09-11 22:50:19,539 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1192.32 | PDT: 0/4
2025-09-11 22:52:07,096 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1242.72 | PDT: 0/4
2025-09-11 22:53:53,334 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1270.08 | PDT: 0/4
2025-09-11 22:54:22,934 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 22:55:24,173 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1264.32 | PDT: 0/4
2025-09-11 22:57:05,745 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1198.08 | PDT: 0/4
2025-09-11 22:58:58,603 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1182.25 | PDT: 0/4
2025-09-11 23:00:47,271 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1206.72 | PDT: 0/4
2025-09-11 23:02:40,103 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1199.52 | PDT: 0/4
2025-09-11 23:04:20,628 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1221.13 | PDT: 0/4
2025-09-11 23:04:35,399 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:05:57,499 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1196.64 | PDT: 0/4
2025-09-11 23:07:52,218 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1242.72 | PDT: 0/4
2025-09-11 23:09:46,787 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1242.72 | PDT: 0/4
2025-09-11 23:11:43,402 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1193.76 | PDT: 0/4
2025-09-11 23:13:31,735 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1241.28 | PDT: 0/4
2025-09-11 23:13:53,905 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:15:01,714 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1231.20 | PDT: 0/4
2025-09-11 23:16:46,504 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1257.12 | PDT: 0/4
2025-09-11 23:18:42,773 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1305.01 | PDT: 0/4
2025-09-11 23:20:37,803 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1304.63 | PDT: 0/4
2025-09-11 23:22:31,547 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1319.04 | PDT: 0/4
2025-09-11 23:24:08,385 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1357.92 | PDT: 0/4
2025-09-11 23:24:17,077 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:25:48,165 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1329.12 | PDT: 0/4
2025-09-11 23:27:42,923 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1349.28 | PDT: 0/4
2025-09-11 23:29:36,768 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1383.84 | PDT: 0/4
2025-09-11 23:31:29,545 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1372.32 | PDT: 0/4
2025-09-11 23:33:18,347 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1384.55 | PDT: 0/4
2025-09-11 23:33:34,967 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:34:47,114 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1365.12 | PDT: 0/4
2025-09-11 23:36:40,963 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1321.93 | PDT: 0/4
2025-09-11 23:38:35,126 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1321.92 | PDT: 0/4
2025-09-11 23:40:24,257 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1363.85 | PDT: 0/4
2025-09-11 23:42:13,678 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1293.12 | PDT: 0/4
2025-09-11 23:42:46,382 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:43:47,756 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1338.68 | PDT: 0/4
2025-09-11 23:45:32,163 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1346.40 | PDT: 0/4
2025-09-11 23:47:28,400 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1386.72 | PDT: 0/4
2025-09-11 23:49:21,136 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1385.27 | PDT: 0/4
2025-09-11 23:51:16,928 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1375.75 | PDT: 0/4
2025-09-11 23:52:56,046 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1385.28 | PDT: 0/4
2025-09-11 23:53:10,414 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-11 23:54:31,329 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1372.32 | PDT: 0/4
2025-09-11 23:56:25,377 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1385.28 | PDT: 0/4
2025-09-11 23:58:18,407 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $1385.28 | PDT: 0/4
2025-09-12 00:00:10,951 - root - INFO - _reset_daily_pdt_counter:197 - New trading day: 2025-09-12. PDT counter reset to 0/4
2025-09-12 00:00:11,509 - root - INFO - _update_daily_equity_tracking:432 - New trading day started. Starting equity: $99461.86
2025-09-12 00:00:11,785 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:01:59,289 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:02:22,936 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:03:32,135 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:05:24,367 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:07:23,264 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:09:16,428 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:11:11,212 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:12:47,947 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:12:56,405 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:14:27,375 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:16:22,247 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:18:16,804 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:20:10,123 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:21:57,889 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:22:14,857 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:23:27,310 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:25:21,226 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:27:16,136 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:29:08,534 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:30:56,779 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:31:26,109 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:32:27,405 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:34:12,186 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:36:10,276 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:38:03,561 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:39:53,729 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:41:31,722 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:41:45,544 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:43:04,980 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:44:54,300 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:46:45,002 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:48:36,939 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:50:21,308 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:50:42,891 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 00:51:52,195 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:53:36,789 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:55:31,574 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:57:23,603 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 00:59:17,194 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:00:53,620 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:01:03,084 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:02:34,298 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:04:26,215 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:06:15,675 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:08:03,720 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:09:46,812 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:10:02,153 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:11:13,214 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:13:03,638 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:14:53,109 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:16:40,588 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:18:26,858 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:18:57,633 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:19:58,869 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:21:39,562 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:23:34,395 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:25:24,882 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:27:12,180 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:28:49,082 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:29:02,074 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:30:21,762 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:32:07,383 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:33:54,099 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:35:42,409 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:37:24,380 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:37:45,009 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:38:52,516 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:40:33,961 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:42:23,257 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:44:08,019 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:45:54,495 - root - ERROR - _run_analysis_cycle:639 - Critical error in PDT-aware analysis cycle: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(
        method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/packages/six.py", line 769, in reraise
    raise value.with_traceback(tb)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/agent.py", line 588, in _run_analysis_cycle
    account = await self.broker.get_account()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 117, in get_account
    return await self._retry_async(self.api.get_account)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 88, in _retry_async
    return await asyncio.to_thread(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/trading/client.py", line 474, in get_account
    response = self.get("/account")
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 225, in get
    return self._request("GET", path, data, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 131, in _request
    return self._one_request(method, url, opts, retry)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 195, in _one_request
    response = self._session.request(method, url, **opts)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
2025-09-12 01:46:55,625 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:46:56,088 - root - ERROR - get_bars:362 - Unexpected error fetching bars for MSFT: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(
        method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/packages/six.py", line 769, in reraise
    raise value.with_traceback(tb)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 322, in get_bars
    bars = await self._retry_async(self.data_api.get_stock_bars, request_params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 88, in _retry_async
    return await asyncio.to_thread(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/data/historical/stock.py", line 87, in get_stock_bars
    raw_bars = self._get_marketdata(
        path="/stocks/bars",
        params=request_params.to_request_fields(),
        page_size=10_000,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 393, in _get_marketdata
    response = self.get(path=path, data=params)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 225, in get
    return self._request("GET", path, data, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 131, in _request
    return self._one_request(method, url, opts, retry)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 195, in _one_request
    response = self._session.request(method, url, **opts)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
2025-09-12 01:46:56,096 - root - WARNING - fetch_bars:667 - No data returned for MSFT itf
2025-09-12 01:46:56,096 - root - ERROR - get_bars:362 - Unexpected error fetching bars for MSFT: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(
        method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/packages/six.py", line 769, in reraise
    raise value.with_traceback(tb)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 322, in get_bars
    bars = await self._retry_async(self.data_api.get_stock_bars, request_params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 88, in _retry_async
    return await asyncio.to_thread(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/data/historical/stock.py", line 87, in get_stock_bars
    raw_bars = self._get_marketdata(
        path="/stocks/bars",
        params=request_params.to_request_fields(),
        page_size=10_000,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 393, in _get_marketdata
    response = self.get(path=path, data=params)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 225, in get
    return self._request("GET", path, data, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 131, in _request
    return self._one_request(method, url, opts, retry)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 195, in _one_request
    response = self._session.request(method, url, **opts)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
2025-09-12 01:46:56,101 - root - WARNING - fetch_bars:667 - No data returned for MSFT htf
2025-09-12 01:46:56,101 - root - ERROR - get_bars:362 - Unexpected error fetching bars for MSFT: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(
        method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/packages/six.py", line 769, in reraise
    raise value.with_traceback(tb)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
        conn,
    ...<5 lines>...
        chunked=chunked,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    six.raise_from(e, None)
    ~~~~~~~~~~~~~~^^^^^^^^^
  File "<string>", line 3, in raise_from
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 463, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 322, in get_bars
    bars = await self._retry_async(self.data_api.get_stock_bars, request_params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/app/agent/alpaca_broker.py", line 88, in _retry_async
    return await asyncio.to_thread(func, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/data/historical/stock.py", line 87, in get_stock_bars
    raw_bars = self._get_marketdata(
        path="/stocks/bars",
        params=request_params.to_request_fields(),
        page_size=10_000,
    )
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 393, in _get_marketdata
    response = self.get(path=path, data=params)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 225, in get
    return self._request("GET", path, data, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 131, in _request
    return self._one_request(method, url, opts, retry)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/alpaca/common/rest.py", line 195, in _one_request
    response = self._session.request(method, url, **opts)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/home/ubuntu/fast_api_trading/.venv/lib/python3.13/site-packages/requests/adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
2025-09-12 01:46:56,106 - root - WARNING - fetch_bars:667 - No data returned for MSFT ltf
2025-09-12 01:48:24,327 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:48:32,207 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:49:59,263 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:51:45,699 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:53:32,803 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:55:18,938 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:56:59,830 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 01:57:14,908 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 01:58:26,506 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 02:00:16,396 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 02:02:07,133 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $0.00 | PDT: 0/4
2025-09-12 02:03:53,523 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:05:37,700 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:06:05,105 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:07:06,282 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:08:45,130 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:10:35,183 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:12:20,850 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:14:07,904 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:15:43,344 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:15:56,436 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:17:14,696 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:19:00,124 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:20:47,140 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:22:35,859 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:24:17,586 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:24:37,989 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:25:45,639 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:27:26,941 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:29:15,232 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:30:59,179 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:32:45,354 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:34:17,828 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:34:25,295 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:35:52,300 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:37:38,348 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:39:25,755 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:41:11,691 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:42:53,001 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:43:08,174 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:44:19,268 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:46:07,062 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:47:55,204 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:49:39,749 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:51:24,247 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:51:51,922 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 02:52:53,102 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:54:31,624 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:56:20,693 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:58:06,469 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 02:59:51,867 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:01:27,677 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:01:40,773 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 03:02:59,899 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:04:46,102 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:06:33,494 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:08:22,189 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:10:04,381 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:10:25,101 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 03:11:32,545 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:13:14,192 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:15:03,273 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:16:47,970 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:18:34,984 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:20:08,174 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:20:15,672 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 03:21:42,541 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:23:28,723 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:25:16,497 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:27:04,146 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:28:45,349 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:29:00,354 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 03:30:11,324 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:31:59,161 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:33:47,171 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:35:31,642 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:37:16,325 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:37:44,475 - root - WARNING - _find_htf_setup_async:809 - Insufficient HTF data for ALMU setup analysis
2025-09-12 03:38:45,659 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:40:24,202 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
2025-09-12 03:42:14,158 - root - INFO - _update_status:69 - Analyzing 10/54 symbols... Daily P&L: $-1294.56 | PDT: 0/4
